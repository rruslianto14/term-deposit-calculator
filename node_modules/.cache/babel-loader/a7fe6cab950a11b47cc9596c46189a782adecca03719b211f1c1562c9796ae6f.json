{"ast":null,"code":"import{Controller,useForm}from\"react-hook-form\";import{number,object}from\"yup\";import{yupResolver}from\"@hookform/resolvers/yup\";import{FormLabel,FormControl,//   Input,\nNumberInput,NumberInputField,Select//   Button,\n}from\"@chakra-ui/react\";import{useEffect,useState}from\"react\";import{interestPaidFrequencies}from\"./fixtures/investmentTerms\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const schema=object({depositAmount:number().required(),interestRate:number().required(),investmentTerm:number().required(),interestPaidFrequency:number().required()});const calculateCompoundInterest=(depositAmount,interestRate,investmentTerm,interestPaidFrequency)=>{//  ((P*(1+i)^n) - P)\nconst totalBalance=depositAmount*(1+interestRate/100/interestPaidFrequency)**(interestPaidFrequency*investmentTerm);return totalBalance;};const TermDepositCalc=()=>{const[totalBalance,setTotalBalance]=useState(0);const{control,formState:{errors},watch}=useForm({defaultValues:{depositAmount:100,interestRate:5,investmentTerm:2,interestPaidFrequency:interestPaidFrequencies[0].frequency},resolver:yupResolver(schema)});const[depositAmount,interestRate,investmentTerm,interestPaidFrequency]=watch([\"depositAmount\",\"interestRate\",\"investmentTerm\",\"interestPaidFrequency\"]);useEffect(()=>{// const totalBalance = calculateCompoundInterest(10000, 1.1, 3, 12);\nconst totalBalance=calculateCompoundInterest(depositAmount,interestRate,investmentTerm,interestPaidFrequency);setTotalBalance(totalBalance);console.log(\"total: \",totalBalance);},[depositAmount,interestRate,investmentTerm,interestPaidFrequency]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(Controller,{control:control,name:\"depositAmount\",render:_ref=>{let{field:{onChange,value}}=_ref;return/*#__PURE__*/_jsxs(FormControl,{isInvalid:!!(errors!==null&&errors!==void 0&&errors.depositAmount),children:[/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"depositAmount\",children:\"Deposit Amount\"}),/*#__PURE__*/_jsx(NumberInput,{onChange:onChange,value:value,precision:0,children:/*#__PURE__*/_jsx(NumberInputField,{})})]});}}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"interestRate\",render:_ref2=>{let{field:{onChange,value}}=_ref2;return/*#__PURE__*/_jsxs(FormControl,{isInvalid:!!(errors!==null&&errors!==void 0&&errors.interestRate),children:[/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"interestRate\",children:\"Interest Rate\"}),/*#__PURE__*/_jsx(NumberInput,{onChange:onChange,value:value,precision:2,children:/*#__PURE__*/_jsx(NumberInputField,{})})]});}}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"investmentTerm\",render:_ref3=>{let{field:{onChange,value}}=_ref3;return/*#__PURE__*/_jsxs(FormControl,{isInvalid:!!(errors!==null&&errors!==void 0&&errors.investmentTerm),children:[/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"investmentTerm\",children:\"Investment Term\"}),/*#__PURE__*/_jsx(NumberInput,{onChange:onChange,value:value,precision:0,children:/*#__PURE__*/_jsx(NumberInputField,{})})]});}}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"interestPaidFrequency\",render:_ref4=>{let{field:{onChange,value}}=_ref4;return/*#__PURE__*/_jsxs(FormControl,{isInvalid:!!(errors!==null&&errors!==void 0&&errors.investmentTerm),children:[/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"interestPaidFrequency\",children:\"Interest Paid\"}),/*#__PURE__*/_jsx(Select,{placeholder:\"Select option\",onChange:onChange,value:value,children:interestPaidFrequencies.map(interestPaid=>/*#__PURE__*/_jsx(\"option\",{value:interestPaid.frequency,children:interestPaid.name},interestPaid.name))})]});}})]}),/*#__PURE__*/_jsx(\"div\",{children:totalBalance})]});};export{TermDepositCalc};","map":{"version":3,"names":["Controller","useForm","number","object","yupResolver","FormLabel","FormControl","NumberInput","NumberInputField","Select","useEffect","useState","interestPaidFrequencies","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","schema","depositAmount","required","interestRate","investmentTerm","interestPaidFrequency","calculateCompoundInterest","totalBalance","TermDepositCalc","setTotalBalance","control","formState","errors","watch","defaultValues","frequency","resolver","console","log","children","name","render","_ref","field","onChange","value","isInvalid","htmlFor","precision","_ref2","_ref3","_ref4","placeholder","map","interestPaid"],"sources":["/Users/rafael/Documents/react-typescript/src/pages/termDepositCalc/TermDepositCalc.tsx"],"sourcesContent":["import { Controller, useForm } from \"react-hook-form\";\nimport { InferType, number, object, string } from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport {\n  FormErrorMessage,\n  FormLabel,\n  FormControl,\n  //   Input,\n  NumberInput,\n  NumberInputField,\n  Select,\n  //   Button,\n} from \"@chakra-ui/react\";\nimport { useEffect, useState } from \"react\";\n\nimport { interestPaidFrequencies } from \"./fixtures/investmentTerms\";\n\nconst schema = object({\n  depositAmount: number().required(),\n  interestRate: number().required(),\n  investmentTerm: number().required(),\n  interestPaidFrequency: number().required(),\n});\n\ntype FormFields = InferType<typeof schema>;\n\nconst calculateCompoundInterest = (\n  depositAmount: number,\n  interestRate: number,\n  investmentTerm: number,\n  interestPaidFrequency: number\n) => {\n  //  ((P*(1+i)^n) - P)\n  const totalBalance =\n    depositAmount *\n    (1 + interestRate / 100 / interestPaidFrequency) **\n      (interestPaidFrequency * investmentTerm);\n  return totalBalance;\n};\n\nconst TermDepositCalc = () => {\n  const [totalBalance, setTotalBalance ] = useState(0)\n\n  const {\n    control,\n    formState: { errors },\n    watch,\n  } = useForm<FormFields>({\n    defaultValues: {\n      depositAmount: 100,\n      interestRate: 5,\n      investmentTerm: 2,\n      interestPaidFrequency: interestPaidFrequencies[0].frequency,\n    },\n    resolver: yupResolver(schema),\n  });\n\n  const [depositAmount, interestRate, investmentTerm, interestPaidFrequency] =\n    watch([\n      \"depositAmount\",\n      \"interestRate\",\n      \"investmentTerm\",\n      \"interestPaidFrequency\",\n    ]);\n\n  useEffect(() => {\n    // const totalBalance = calculateCompoundInterest(10000, 1.1, 3, 12);\n    const totalBalance = calculateCompoundInterest(\n      depositAmount,\n      interestRate,\n      investmentTerm,\n      interestPaidFrequency\n    );\n\n    setTotalBalance(totalBalance)\n    console.log(\"total: \", totalBalance);\n  }, [depositAmount, interestRate, investmentTerm, interestPaidFrequency]);\n\n  return (\n    <>\n    <form>\n      <Controller\n        control={control}\n        name=\"depositAmount\"\n        render={({ field: { onChange, value } }) => (\n          <FormControl isInvalid={!!errors?.depositAmount}>\n            <FormLabel htmlFor=\"depositAmount\">Deposit Amount</FormLabel>\n\n            <NumberInput onChange={onChange} value={value} precision={0}>\n              <NumberInputField />\n            </NumberInput>\n\n            {/* <FormErrorMessage>\n              {errors.depositAmount && errors.depositAmount.message?.toString()}\n            </FormErrorMessage> */}\n          </FormControl>\n        )}\n      />\n\n      <Controller\n        control={control}\n        name=\"interestRate\"\n        render={({ field: { onChange, value } }) => (\n          <FormControl isInvalid={!!errors?.interestRate}>\n            <FormLabel htmlFor=\"interestRate\">Interest Rate</FormLabel>\n\n            <NumberInput onChange={onChange} value={value} precision={2}>\n              <NumberInputField />\n            </NumberInput>\n\n            {/* <FormErrorMessage>\n              {errors.interestRate && errors.interestRate.message?.toString()}\n            </FormErrorMessage> */}\n          </FormControl>\n        )}\n      />\n\n      <Controller\n        control={control}\n        name=\"investmentTerm\"\n        render={({ field: { onChange, value } }) => (\n          <FormControl isInvalid={!!errors?.investmentTerm}>\n            <FormLabel htmlFor=\"investmentTerm\">Investment Term</FormLabel>\n\n            <NumberInput onChange={onChange} value={value} precision={0}>\n              <NumberInputField />\n            </NumberInput>\n\n            {/* <FormErrorMessage>\n              {errors.investmentTerm &&\n                errors.investmentTerm.message?.toString()}\n            </FormErrorMessage> */}\n          </FormControl>\n        )}\n      />\n\n      <Controller\n        control={control}\n        name=\"interestPaidFrequency\"\n        render={({ field: { onChange, value } }) => (\n          <FormControl isInvalid={!!errors?.investmentTerm}>\n            <FormLabel htmlFor=\"interestPaidFrequency\">Interest Paid</FormLabel>\n\n            <Select\n              placeholder=\"Select option\"\n              onChange={onChange}\n              value={value}\n            >\n              {interestPaidFrequencies.map((interestPaid) => (\n                <option value={interestPaid.frequency} key={interestPaid.name}>\n                  {interestPaid.name}\n                </option>\n              ))}\n            </Select>\n\n            {/* <FormErrorMessage>\n              {errors.interestPaidFrequency && errors.interestPaidFrequency.message?.toString()}\n            </FormErrorMessage> */}\n          </FormControl>\n        )}\n      />\n    </form>\n    <div>{totalBalance}</div>\n    </>\n  );\n};\n\nexport { TermDepositCalc };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}